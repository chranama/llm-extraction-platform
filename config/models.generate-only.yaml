# config/models.generate-only.yaml
# ------------------------
# Guarantees:
# - /v1/extract is disabled at the model level
# - All models explicitly advertise generate=true, extract=false
# - No capability inference or fallback behavior
#
# Local/kind default: small model so /v1/generate is actually runnable on CPU.

default_model: meta-llama/Llama-3.2-1B-Instruct

defaults:
  backend: local
  load_mode: lazy
  device: auto          # kind will effectively be CPU
  trust_remote_code: false
  quantization: null
  capabilities:
    generate: true
    extract: false

models:
  - id: meta-llama/Llama-3.2-1B-Instruct
    backend: local
    load_mode: lazy
    dtype: float16
    device: auto
    text_only: true
    max_context: 4096
    trust_remote_code: false
    quantization: null
    capabilities:
      generate: true
      extract: false
    notes: "Kind/local default (small, CPU-friendly; generate-only)"

  # Keep your “real” options available but still generate-only.
  - id: mistralai/Mistral-7B-Instruct-v0.3
    backend: local
    load_mode: lazy
    dtype: float16
    device: auto
    text_only: true
    max_context: 8192
    trust_remote_code: false
    quantization: null
    capabilities:
      generate: true
      extract: false
    notes: "Optional local model (heavier; generate-only)"

  - id: Qwen/Qwen2.5-7B-Instruct
    backend: local
    load_mode: lazy
    dtype: float16
    device: auto
    text_only: true
    max_context: 8192
    trust_remote_code: false
    quantization: null
    capabilities:
      generate: true
      extract: false
    notes: "Optional local model (heavier; generate-only)"

  # Intentionally NOT default for kind; keep for real GPU/full environments.
  - id: mistralai/Ministral-3-14B-Instruct-2512-BF16
    backend: local
    load_mode: lazy
    dtype: bfloat16
    device: auto
    text_only: false
    max_context: 32768
    trust_remote_code: true
    quantization: null
    capabilities:
      generate: true
      extract: false
    notes: "Not kind-default (large); generate-only"